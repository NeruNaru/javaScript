<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<style>

</style>


</head>

<body>
    <div>
		<form id = "guestbookForm" action="/guestbook/add" method="get">
			<table border="1" width="540px">
				<tr>
					<td>이름</td><td><input type="text" name="name"></td>
					<td>비밀번호</td><td><input type="password" name="pw"></td>
				</tr>
				<tr>
					<td colspan="4"><textarea cols="72" rows="5" name="content"></textarea></td>
				</tr>
				<tr>
					<td colspan="4"><button id="btnWrite" type="submit">등록</button></td>
				</tr>
			</table>
		</form>
	</div>
	<br>

</body>

<script>
document.addEventListener('DOMContentLoaded',function(){
	console.log('돔트리완료');

	
	//폼(form)은 submit버튼의 클릭 이벤트가 아니다
	//폼은 이벤트를 폼 등록한다 이벤트명을 submit으로 해야하지 click으로 하면 안된다
	let guestbookForm = document.querySelector('#guestbookForm');

	console.log(guestbookForm);

	guestbookForm.addEventListener('submit',function(event){

		console.log('폼전송클릭');

		//패스워드를 입력하지 않았을 때
		let pwTag = document.querySelector('input[name="pw"]');
		console.log(pwTag);

		let pw = pwTag.value;
		if(pw == '') {
			//전송을 멈춰라
			event.preventDefault();

			window.alert('비밀먼호를 입력하세요');
		};

		//이름을 입력하지 않았을 때
		let nameTag = document.querySelector('input[name="name"]');
		
		let name = nameTag.value;
		if(name == '') {
			//전송을 멈춰라
			event.preventDefault();

			window.alert('이름을 입력하세요');
		}
	});
});









</script>

</html>